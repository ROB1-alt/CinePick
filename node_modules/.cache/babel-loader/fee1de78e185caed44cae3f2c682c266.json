{"ast":null,"code":"var _jsxFileName = \"/Users/robin/Desktop/cinepick-movie-selector/src/pages/home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api_key = \"435c8880fa41fdbe5fba133c47f78d2b\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\n\nconst getImage = path => `https://image.tmdb.org/t/p/w300/${path}`;\n\nfunction HomePage() {\n  _s();\n\n  const [movies, setMovies] = useState({});\n  const [filter, setFilter] = useState(\"\");\n  const [page, setPage] = useState(1);\n  useEffect(() => {\n    if (filter === \"\") {\n      axios.get(`${BASE_URL}/movie/upcoming`, {\n        params: {\n          api_key,\n          page\n        }\n      }).then(res => {\n        setMovies(res.data);\n      });\n    } else {\n      axios.get(`${BASE_URL}/search/movie`, {\n        params: {\n          api_key,\n          query: filter\n        }\n      }).then(res => {\n        setMovies(res.data);\n      });\n    }\n  }, [filter, page]); // useEffect(() => {\n  //   const filteredMovies = movies.filter((movie) => {\n  //     return movie.title.toLowerCase().includes(filter.toLowerCase());\n  //   });\n  //   setPrintedMovies(filteredMovies)\n  // }, [movies, filter]);\n\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"items\",\n            children: \"Accueil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"items\",\n            children: \"Catalogue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"items\",\n            children: \"Nouveaut\\xE9s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"BTN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"searchBar\",\n      value: filter,\n      placeholder: \"Search your movie\",\n      onChange: e => {\n        setFilter(e.target.value);\n      }\n    }, \"inputMovie\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), movies.results && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: movies.results.map(({\n        title,\n        poster_path,\n        id,\n        release_date\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#FFFFFF\"\n          },\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/movie/${id}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              borderRadius: \"20px\"\n            },\n            className: \"posterPicture\",\n            src: getImage(poster_path),\n            alt: \"PosterImage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), release_date]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), filter === \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider\",\n      children: [page > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setPage(page - 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: movies.page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), page < movies.total_pages && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setPage(page + 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HomePage, \"7IC8HNEV9AQJ943PHVGOQxwYz4w=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/robin/Desktop/cinepick-movie-selector/src/pages/home.js"],"names":["React","useEffect","useState","axios","Link","api_key","BASE_URL","getImage","path","HomePage","movies","setMovies","filter","setFilter","page","setPage","get","params","then","res","data","query","e","target","value","results","map","title","poster_path","id","release_date","color","borderRadius","total_pages"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\n\n\nconst api_key = \"435c8880fa41fdbe5fba133c47f78d2b\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst getImage = (path) => `https://image.tmdb.org/t/p/w300/${path}`;\n\n\n\nfunction HomePage() {\n  const [movies, setMovies] = useState({});\n  const [filter, setFilter] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (filter === \"\"){\n      axios.get(`${BASE_URL}/movie/upcoming`, { params: { api_key, page }  })\n      .then((res) => {\n        setMovies(res.data);\n      });\n    } else {\n      axios.get(`${BASE_URL}/search/movie`, { params: { api_key, query : filter }  })\n      .then((res) => {\n        setMovies(res.data);\n      });\n    }\n  }, [filter, page]);\n\n\n  // useEffect(() => {\n  //   const filteredMovies = movies.filter((movie) => {\n  //     return movie.title.toLowerCase().includes(filter.toLowerCase());\n      \n  //   });\n    \n  //   setPrintedMovies(filteredMovies)\n  // }, [movies, filter]);\n\n\n  return (\n    <body>\n      <header className=\"App-header\">\n        <nav>\n          <ul className=\"list\">\n            <li className=\"items\">Accueil</li>\n            <li className=\"items\">Catalogue</li>\n            <li className=\"items\">Nouveautés</li>\n          </ul>\n          <button className=\"btn\">BTN</button>\n        </nav>\n      </header>\n      <input  className =\"searchBar\" value = {filter} placeholder =\"Search your movie\" key=\"inputMovie\" onChange= { (e) => { setFilter(e.target.value)} } />\n      {movies.results &&\n        <div className =\"grid\">\n          {movies.results.map(({ title, poster_path, id , release_date}) => (\n            <div className=\"item\" key = {id}>\n                <p style={{color: \"#FFFFFF\"}}>{ title }</p>\n                <Link to={ `/movie/${id}` }>\n                    <img style = {{borderRadius : \"20px\"}}className=\"posterPicture\" src={ getImage(poster_path) } alt =\"PosterImage\"/>\n                </Link>\n              {release_date}\n            </div>\n          ))}\n        </div>\n      }\n      \n      { filter === \"\" && \n        <div className=\"slider\">\n          {page > 1 && <button onClick={()=> {setPage(page - 1)}}></button>}\n          <div>{movies.page}</div>\n          {page < movies.total_pages && <button onClick={()=> {setPage(page + 1)}}></button>}\n        </div>\n      }\n    </body>\n  );\n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}